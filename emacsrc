;; 添加emacs包软件库
(require 'package)
(add-to-list 'package-archives '("marmalade"."http://marmalade-repo.org/packages/"))
(package-initialize)

;; 配色主题
(add-to-list 'custom-theme-load-path "~/.emacs.d/themes")
(load-theme 'solarized-dark t)

;; 其它部分的配置文件
(add-to-list 'load-path "~/.emacs.d/")
(require 'keybinding) ;; 快捷键绑定
(require 'cstyle) ;; C语言设置

;; 配置字体
(set-default-font "FreeMono-14")

;; 将 yes-or-no 的选择用 y-or-n 代替，每次只要用y或n就可以了
(fset 'yes-or-no-p 'y-or-n-p)

;; 关闭Emacs起始画面
(setq inhibit-startup-message t)

;; 高亮显示光标所在的行
(global-hl-line-mode 1)

;; 使用空格代替TAB
(setq-default indent-tabs-mode nil)

;; 关闭备份和自动保存功能
(setq make-backup-files nil)
(setq auto-save-default nil)

;; 显示行号和列号，并在左侧显示行号
(line-number-mode 1)
(column-number-mode 1)
(global-linum-mode 'linum-mode)

;; GUI设置
(scroll-bar-mode -1) ;; 关闭滚动条
(tool-bar-mode -1) ;; 关闭工具栏
(menu-bar-mode -1) ;; 关闭菜单栏

;; 打开 ido-mode 可以在补全时看到可以选择的选项并直接选择
(require 'ido) 
(ido-mode t)

;; org-mode
(add-to-list 'auto-mode-alist '("\\.org$" . org-mode))
(global-set-key "\C-cl" 'org-store-link)
(global-set-key "\C-cb" 'org-iswitchb)
(global-set-key "\C-ca" 'org-agenda)
(global-font-lock-mode 1)
(setq org-log-done 'time) ;; 记录TODO完成时间

;; slime-mode
(add-to-list 'load-path "~/.emacs.d/plugins/slime/")
(setq inferior-lisp-program "/usr/bin/sbcl") 
(require 'slime)  
(slime-setup '(slime-fancy))

;; ibus-mode
(add-to-list 'load-path "~/.emacs.d/plugins/ibus-el/")
(require 'ibus)
(add-hook 'after-init-hook 'ibus-mode-on)

;; paredit-mode
(autoload 'paredit-mode "paredit"
  "Minor mode for pseudo-structurally editing Lisp code." t)
(add-hook 'emacs-lisp-mode-hook (lambda () (paredit-mode t)))
(add-hook 'lisp-mode-hook (lambda () (paredit-mode t)))
(add-hook 'lisp-interaction-mode-hook (lambda () (paredit-mode t)))
(add-hook 'scheme-mode-hook (lambda () (paredit-mode t)))

;; yasnippet-mode
(add-to-list 'load-path "~/.emacs.d/elpa/yasnippet-0.8.0/")
(require 'yasnippet)
(yas/initialize)
(yas/load-directory "~/.emacs.d/elpa/yasnippet-0.8.0/snippets")

;; smart-compile
(add-to-list 'load-path "~/.emacs.d/elpa/smarter-compile-2012.4.9")
(require 'smarter-compile)
(add-to-list 'smart-compile-alist
  '("\\.pas\\'"          . "fpc -o%n_bin %f"))

(idle-highlight-mode t)
